import{L as p,K as f,k as i,o as v,c as g,d as s,C as r,M as c}from"./index-cc8df20e.js";import{_ as b}from"./logo-4ad03925.js";import{a as _}from"./service-bb52b294.js";const h={class:"d-flex justify-content-center align-items-center vh-100 bg-cover",style:{"background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/vue3/1679408620153.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=UfV7XGE9dwbzfDKlaraKFCNdBCu1eRCqMeY2uMoWuCm5Wsr3dC3T%2BKYyNdtVgPBRSy1j%2FI%2B12dhfOhJ00U2Qha3NLlZolefgPlWQNGT4dlM6Da4GlvrN5smHGkF2yI1vhNOQ2fwLJdzDXr3lliJO5hjTwXox39aijm6qNMFdSIwtttCEALYkxwo0c%2BgBTKuB6%2Blup6P7efhl2Om1bojxAxksPzq4T5TemqKcwLHDr7SeCeAfE5MXLjlpvFzVEvLtDk8Gxv5ipu802OKOYxWTTs2HSXDemT0jDuQoabGdJ%2BlISfeSsHMOtgFaTY0Z42L22wx8Y0yEXHkU3fa%2BKUNMqg%3D%3D)"}},w={class:"bg-transparent p-6"},k={class:"mb-3"},x=s("div",null,[s("img",{class:"mx-auto d-block",width:"110",src:b,alt:"logo"})],-1),B=s("label",{for:"username",class:"form-label"},"信箱",-1),T={class:"mb-3"},y=s("label",{for:"password",class:"form-label"},"密碼",-1),L={__name:"LoginView",setup(D){const d=p(),m=f("$swal"),t=i(""),l=i(""),u=()=>{const n={username:t.value,password:l.value};_({method:"POST",url:"/admin/signin",data:n}).then(({data:e})=>{const{token:a,expired:o}=e;document.cookie=`ttShopToken=${a}; expires=${new Date(o)};`,d.push("/admin")}).catch(e=>{var a,o;m("",((o=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:o.message)||"有錯誤","error")})};return(n,e)=>(v(),g("div",h,[s("form",w,[s("div",k,[x,B,r(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),type:"email",class:"form-control","aria-describedby":"emailHelp"},null,512),[[c,t.value]])]),s("div",T,[y,r(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),type:"password",class:"form-control"},null,512),[[c,l.value]])]),s("button",{type:"submit",class:"btn btn-primary",onClick:u}," 送出 ")])]))}};export{L as default};
