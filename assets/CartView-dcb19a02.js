import{K as T,I as N,L as q,s as V,b as B,r as L,o as l,c,d as t,e as p,u as s,F as h,m as M,g as m,w as G,t as n,H as I,C as R,M as S}from"./index-ebf53b5d.js";import{c as i}from"./filters-2b4b10a0.js";import{u as U}from"./cartsStore-aac64227.js";import{_ as A}from"./CartStep-7997f584.js";import"./service-1ceeacb1.js";const D=t("div",{class:"bg-cover",style:{height:"40vh",backgroundImage:"url(./images/ImgAbout01.png)"}},null,-1),F={class:"container"},H=t("section",{class:"step d-md-flex"},null,-1),j={class:"container mt-5"},E={class:"row"},K={class:"text-end"},z={class:"table"},J=t("thead",null,[t("tr",null,[t("th",{scope:"col"}," 商品選項 "),t("th",{scope:"col"}," 單價 "),t("th",{scope:"col"}," 數量 "),t("th",{scope:"col"}," 小計 "),t("th",{scope:"col"}," 刪除 ")])],-1),O={class:"cart__title d-flex"},P={class:"me-3"},Q=["src","alt"],W={class:"cart__title__content"},X={class:"h6"},Y=t("p",null,"規格",-1),Z={class:"text-end"},tt={class:"btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},et=["disabled","onClick"],st=["onUpdate:modelValue","onChange"],ot=["onClick"],nt={class:"text-end"},lt=["onClick"],ct={key:1},it={colspan:"100",class:"text-center"},dt={class:"text-end",colspan:"100"},at={class:"text-end",colspan:"100"},rt={class:"text-end"},ut=["onClick"],ft={__name:"CartView",setup(_t){const b=T("$swal"),g=N(),v=q(),r=U(),{getCarts:f,updateCart:d,deleteCart:C,deleteAllCarts:u}=r,{cartsGetter:a,totalGetter:k,finalTotalGetter:y}=V(r),x=g.meta.step,w=()=>{if(a.value.length<=0)return b("購物車沒產品"),!1;v.push("/checkout")};return B(()=>{f()}),(pt,_)=>{const $=L("routerLink");return l(),c(h,null,[D,t("div",F,[p(A,{step:s(x)},null,8,["step"])]),H,t("div",j,[t("div",E,[t("div",K,[t("button",{class:"btn btn-sm btn-outline-danger",onClick:_[0]||(_[0]=(...e)=>s(u)&&s(u)(...e))}," 清空購物車 ")]),t("table",z,[J,t("tbody",null,[s(a).length>0?(l(!0),c(h,{key:0},M(s(a),e=>(l(),c("tr",{key:e.id},[t("th",null,[t("div",O,[t("div",P,[t("img",{src:e.product.imageUrl,alt:e.product.title,width:"50",class:"img-fluid"},null,8,Q)]),t("div",W,[t("div",X,n(e.product.title),1),Y])])]),t("td",Z," NT $"+n(s(i)(e.product.price)),1),t("td",null,[t("div",tt,[t("button",{disabled:e.qty<2,type:"button",class:"btn btn-primary",onClick:o=>s(d)(e.id,e.product.id,--e.qty)}," - ",8,et),R(t("input",{"onUpdate:modelValue":o=>e.qty=o,type:"number",min:"1",class:"form-control rounded-0",style:{width:"80px"},onChange:o=>s(d)(e.id,e.product.id,e.qty)},null,40,st),[[S,e.qty]]),t("button",{type:"button",class:"btn btn-primary",onClick:o=>s(d)(e.id,e.product.id,++e.qty)}," + ",8,ot)])]),t("td",nt," NT $"+n(s(i)(e.final_total)),1),t("td",null,[t("button",{class:"btn btn-sm btn-outline-danger",onClick:o=>s(C)(e.id)}," 刪除 ",8,lt)])]))),128)):(l(),c("tr",ct,[t("td",it,[m(" 購物車沒有東西 "),p($,{to:"/products"},{default:G(()=>[m(" 挑選產品去 ")]),_:1})])]))]),t("tfoot",null,[t("tr",null,[t("td",dt," 原價 NT $ "+n(s(i)(s(k))),1)]),t("tr",null,[t("td",at," 總價 NT $ "+n(s(i)(s(y))),1)])])]),t("div",rt,[t("a",{class:"btn btn-secondary rounded-start-0",onClick:I(w,["prevent"])}," 填寫資料 ",8,ut)])])])],64)}}};export{ft as default};
