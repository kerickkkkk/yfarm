import{k as o}from"./index-fa012ce5.js";import{s}from"./service-08eb0905.js";function l(t=1,e=""){const r=e&&e!=="全部"?`page=${t}&category=${e}`:`page=${t}`;return s({method:"GET",url:`/products?${r}`})}function c(){return s({method:"GET",url:"/products/all"})}function a(t){return s({method:"GET",url:`/product/${t}`})}const i="ttShop",d=o("likes",{state:()=>({products:[],likes:[]}),getters:{likesGetter:({likes:t})=>t,filterLikesProductsGetter:t=>t.products.filter(e=>t.likes.includes(e.id)),noLikesProductsGetter:t=>t.products.filter(e=>!t.likes.includes(e.id))},actions:{async getAllProducts(){try{const{data:t}=await c();this.products=t.products}catch{}},async getLikes(){try{this.likes=JSON.parse(localStorage.getItem(i)||"[]")}catch{}},async setLike(t){try{const e=this.likes.findIndex(r=>r===t);e===-1?this.likes.push(t):this.likes.splice(e,1),localStorage.setItem(i,JSON.stringify(this.likes)),this.getLikes()}catch{}}}});export{a,l as g,d as u};
